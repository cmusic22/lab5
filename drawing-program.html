<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mouse Events</title>
  
  <style>

    #canvas {
      border: 1px black solid;
    }

  </style>

</head>
<body>


<P>Drag the mouse on the canvas</P>
<p><label for="color">Input Color: </label><input id="color" type="text" maxlength="20" name="color"></p>
<p><label for="range">Input Range: </label><input id="range" type="number" name="range"></p>
<canvas id="canvas" height="400" width="400"></canvas>

<script>
  console.log('script has loaded')
  var canvas = document.getElementById("canvas");
  var context = canvas.getContext("2d");
  
  var mousedown = false 
  
  let color = document.querySelector('#color');
  let range = document.querySelector('#range');

  canvas.addEventListener("mousedown", function() {
    mousedown = true
  });

  canvas.addEventListener("mouseup", function() {
    mousedown = false 
  })

  //event listener for color of drawing
  color.addEventListener('input', function(){ 
    let cl = this.value;//sets color value
    context.fillStyle = cl; //sets fill color of circle style 
    console.log('color recived');
  })
  
  /*range.addEventListener('input', function(){
    let rg = this.value;
    context.arc(rg, rg, 50, 0, 2 * Math.PI);
    console.log('range recived');
  })*/
range.addEventListener('input', function(){ //listens for range input
      let rg = this.value;//sets range input
      console.log('range recived');//logs that input was recived

  canvas.addEventListener("mousemove", function() {
     
    if (!mousedown) { return; }

     // event is a built-in variable, contains the event that triggered this function
     // get the x, y location of the event
     var x = event.offsetX;
     var y = event.offsetY;   //offsetX, offsetY, may not work in older browsers

     //Draw a filled rectangle centered under the mouse click
     //x, y is the top left corner, so shift up and left by 5 to center it under the mouse.
     
     
    context.beginPath();
    context.arc(x-5, y-5, rg, rg, 50, 0, 2 * Math.PI); //sets range of circle
    context.fill();
    })
  })

</script>

</body>
</html>